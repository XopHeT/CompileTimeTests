# CompileTimeTests

## Как компилировать?
1. git clone https://github.com/XopHeT/CompileTimeTests
2. Запускаем Developer Command prompt for VS2022
3. cd в директорию 
4. mkdir vs2022
5. cd vs2022
6. cmake ..
7. В директории vs2022 создан CompileTimeTest.sln. Открываем в Visual Studio и наслаждаемся

## Плюсы compile-time тестов
1. Undefined behavior не пройдёт:

        Если в коде есть 
        1. обращение к неинициализированной переменной 
        2. выделенная, но не освобожденная память
        3. Не все пути возвращают значения
        4. Выход за границы массива
        ....
        и прочая-прочая-прочая. Он просто не скомпилируется
2. Тесты хранятся рядом с кодом

        В конкретном примере плохо видно т.к. используются шаблоны и вся реализация в *.hpp файле
        Но в реальности тесты можно расположить в том же *.cpp в котором реализован функционал и быть уверенным, что они останутся рядом с кодом и не потеряются

3. Тесты компилируются тем же компилятором, которым собирается основной код

         Особенно актуально для embedded

## Минусы compile-time тестов

         1. Нужно переписывать код в constexpr
         2. Старые компиляторы отпадают. В идеале нужен c++20, чтобы была возможность в constexpr функциях выделять и освобождать память
